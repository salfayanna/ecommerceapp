<button class="button" [routerLink]="['/cart']">
    Go to Cart <i class="fas fa-cart-shopping"></i>
</button>

<div class="card-container" *ngIf="products$ | async as productList">
    <div *ngFor="let product of productList; trackBy: trackByUid">
        <div class="card">
            <div>
                <div class="image-container">
                    <img #productImage [src]="product.img" alt="{{ product.name }}"
                        (error)="productImage.style.display='none'; icon.style.display='flex'">
                    <i #icon class="fas fa-ban image-placeholder" style="display:none;"></i>
                </div>
                <p>{{ product.name | titlecase }}</p>
                <p>{{ product.price }} â‚¬</p>
            </div>

            <span>
                <button class="button" (click)="decreaseAmount(product)">-</button>
                <input type="number" [ngModel]="product.amountInCart"
                       (ngModelChange)="updateInCartAmount(product, $event)"
                       [min]="0" [max]="product.availableAmount + product.amountInCart">
                <button class="button"
                        (mouseenter)="showHoverMessage(product)"
                        (mouseleave)="hideHoverMessage(product)"
                        (click)="increaseAmount(product)">+</button>
                <button class="trash-button" [disabled]="product.amountInCart === 0" (click)="removeFromCart(product)">
                    <i class="fas fa-trash"></i>
                </button>
            </span>

            <p class="hover-message" [class.visible]="hoverMessages[product.uid!]">
                *The minimum amount to order: {{ product.minOrderAmount }}.
            </p>
        </div>
    </div>
</div>
